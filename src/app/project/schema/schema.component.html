<!--xmlns:svg="http://www.w3.org/2000/svg"-->
<div class="main-editor-popup">
  <div *ngIf="isEditorDivVisible" class="dynamic-editor">
    <iframe src="http://localhost:8080/"></iframe>
  </div>
  <div *ngIf="!isEditorDivVisible" class="fixed-editor">
    <p>HELLOOO!!!!!!!!!!!!!!</p>
<!--    <ngx-graph
      [links]="links"
      [nodes]="nodes"
      [animations]="true">
    </ngx-graph>-->
    <ngx-graph
      class="chart-container"
      [links]="hierarchialGraph.links"
      [nodes]="hierarchialGraph.nodes"
      [curve]="curve"
      [draggingEnabled]="false">

    <ng-template #defsTemplate>
        <svg:marker id="arrow" viewBox="0 -5 10 10" refX="8" refY="0" markerWidth="4" markerHeight="4" orient="auto">
          <svg:path d="M0,-5L10,0L0,5" class="arrow-head" />
        </svg:marker>
      </ng-template>


               <ng-template #nodeTemplate let-node>
                 <svg:g class="node"
                        ngx-tooltip
                        [tooltipPlacement]="tooltipPlacement"
                        [tooltipType]="styleTypes"
                        [tooltipTitle]="node.position"
                 >
                   <!--<svg:rect [attr.width]="node.width" [attr.height]="node.height" [attr.fill]="node.options.color" />-->
                   <svg:rect [attr.width]="node.dimension.width" [attr.height]="node.dimension.height" [attr.fill]="node.data.customColor"/>
                   <svg:text alignment-baseline="central" [attr.x]="10" [attr.y]="node.dimension.height / 2">{{node.label}}</svg:text>
                 </svg:g>
               </ng-template>

                     <ng-template #linkTemplate let-link>
                       <svg:g class="edge">
                         <svg:path
                           class="line"
                           stroke-width="2"
                           marker-end="url(#arrow)" >
                         </svg:path>
                         <svg:text
                           class="edge-label"
                           text-anchor="middle">
                           <textPath
                             style="fill: #666;"
                             [attr.href]="'#' + link.id"
                             startOffset="60%">
                             {{link.label}}
                           </textPath>
                         </svg:text>
                       </svg:g>
                     </ng-template>

    </ngx-graph>
  </div>
</div>
<div class="bottom">
  <button mat-button color="primary"  (click)="toggleDivVisibility()">Переключить</button>
</div>



